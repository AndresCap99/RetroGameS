
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Minesweeper</title>
<style>
  body { background: #111; color: white; text-align: center; font-family: sans-serif; }
  table { border-collapse: collapse; margin: 0 auto; }
  td {
    width: 30px; height: 30px; text-align: center;
    background: #444; color: #fff; border: 1px solid #222;
    font-size: 18px; cursor: pointer;
  }
</style>
</head>
<body>
<h2>Buscaminas</h2>
<table id="board"></table>
<script>
const board = document.getElementById("board");
const size = 8, minesCount = 10;
let boardData = Array(size).fill().map(() => Array(size).fill(0));
let revealed = Array(size).fill().map(() => Array(size).fill(false));

function plantMines() {
  let mines = 0;
  while (mines < minesCount) {
    let x = Math.floor(Math.random() * size);
    let y = Math.floor(Math.random() * size);
    if (boardData[x][y] !== 'M') {
      boardData[x][y] = 'M';
      mines++;
      for (let i = -1; i <= 1; i++) {
        for (let j = -1; j <= 1; j++) {
          if (boardData[x+i] && boardData[x+i][y+j] !== undefined && boardData[x+i][y+j] !== 'M') {
            boardData[x+i][y+j]++;
          }
        }
      }
    }
  }
}

function renderBoard() {
  board.innerHTML = '';
  for (let i = 0; i < size; i++) {
    let row = board.insertRow();
    for (let j = 0; j < size; j++) {
      let cell = row.insertCell();
      cell.addEventListener('click', () => reveal(i, j));
      if (revealed[i][j]) {
        cell.style.background = '#888';
        cell.innerHTML = boardData[i][j] === 0 ? '' : boardData[i][j];
      }
    }
  }
}

function reveal(x, y) {
  if (revealed[x][y]) return;
  revealed[x][y] = true;
  if (boardData[x][y] === 'M') {
    alert("ðŸ’¥ Â¡Perdiste!");
    location.reload();
    return;
  }
  if (boardData[x][y] === 0) {
    for (let i = -1; i <= 1; i++) {
      for (let j = -1; j <= 1; j++) {
        if (revealed[x+i] && revealed[x+i][y+j] !== undefined) {
          reveal(x+i, y+j);
        }
      }
    }
  }
  renderBoard();
}

plantMines();
renderBoard();
</script>
</body>
</html>
